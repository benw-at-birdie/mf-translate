cubes:
  - name: orders
    sql_table: jaffle_shop.orders

    joins: []

    dimensions:

      - name: order_id
        type: string
        primary_key: true
        sql: order_id

      - name: ordered_at
        type: time
        sql: ordered_at

      - name: is_food_order
        type: string
        sql: is_food_order

    measures:
      - name: order_total
        description: Sum of total order amonunt. Includes tax + revenue.
        type: sum
        sql: order_total

      - name: food_orders
        description: Count of orders that contain food order items.
        type: sum
        sql: 1
        filters:
          sql: is_food_order = True